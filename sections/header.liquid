<header role="navigation" class="relative bg-white z-50">
  <div class="max-w-screen-xl mx-auto md:px-2 flex flex-row items-center">
    
    <!-- Logo -->
    <a href="{{ routes.root_url }}" class="px-2 py-2 md:px-1 md:py-1 md:ml-1 md:my-1 md:mr-4 focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset md:rounded">
      {%- if section.settings.logo != blank -%} 
        {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
        {{ section.settings.logo | image_url: width: '96px', height: '96px' | image_tag:
          class: 'w-8 h-8 md:w-10 md:h-10',
          alt: logo_alt
        }}
      {%- else -%}
        <span>{{ shop.name }}</span>
      {%- endif -%} 
    </a>
 
    <!-- Main navigation -->
    <nav id="main-navigation" class="main-navigation absolute top-full w-screen overflow-scroll bg-white md:overflow-visible md:bg-transparent  h-[calc(100vh-48px)] md:h-auto md:w-auto md:grow md:static md:top-auto md:inline" aria-label="Meny" hidden>
      <div class="max-w-screen-md mx-auto md:max-w-none md:mx-0 text-slate-500">
        <ul role="list" class="clicky-menu flex flex-col divide-y divide-gray-100 text-center md:divide-none md:flex-row md:h-16 md:items-center"> 
          
          <!-- Main navigation link with dropdown -->
          <li class="md:px-2">  
            <a href="#" class="main-navigation-link w-full inline-flex items-center px-6 py-4 md:py-3 md:pl-4 md:pr-2 leading-none md:rounded text-slate-500 justify-between hover:bg-slate-100 focus:ring-4 focus:ring-inset focus:outline-none focus:ring-primary-300" aria-haspopup="true" aria-expanded="false" aria-controls="Undermeny för brustabletter">
              Köp
              <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 96 960 960" width="20" fill="currentColor" class="arrow transition-all ml-1 pointer-events-none text-slate-400"><path d="M480 694q-8 0-15.5-3T450 681L269 500q-12-12-11-30t12-29q13-13 30-12.5t29 12.5l151 152 152-152q12-12 28.5-12t29.5 13q12 12 12 29.5T690 501L510 681q-7 7-14.5 10t-15.5 3Z"/></svg>
            </a>
            <div class="dropdown relative md:absolute z-30 w-screen md:left-0 md:right-0 md:top-full bg-white hidden">
              <div class="max-w-screen-xl mx-auto flex flex-col md:flex-row items-start px-6 md:px-5 py-5 md:py-10 gap-5">
                <div class="text-left md:w-64"">
                  <h2 class="text-xs text-slate-500 mb-2">Brustabletter</h2>
                  <ul class="text-xl">
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Red berries</a>
                    </li>
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Summer breeze</a>
                    </li>
                  </ul>
                </div>
                <div class="text-left md:w-64">
                  <h2 class="text-xs text-slate-500 mb-2">Tillbehör</h2>
                  <ul class="text-xl">
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Glasflaskan</a>
                    </li>
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Plastflaskan</a> 
                    </li>
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">T-shirt</a>
                    </li>
                  </ul>
                </div>
                <div class="text-left md:w-64">
                  <h2 class="text-xs text-slate-500 mb-2">Erbjudande</h2>
                  <ul class="text-xl">
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Paketerbjudanden</a>
                    </li>
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Prenumeration</a>
                    </li>
                    <li class="py-2">
                      <a href="#" class="p-2 -m-2  focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset rounded hover:bg-slate-100">Mängdrabatt</a> 
                    </li>
                  </ul>
                </div>
                <a href="#" class="relative bg-primary-500 text-secondary-900 group hover:bg-primary-600 text-xl w-full md:w-64 aspect-video rounded-xl focus:ring-4 focus:outline-none focus:ring-primary-300 px-4 py-5 overflow-hidden text-left">
                  <div class="absolute z-0 w-28 h-28 rounded-full bg-primary-600 group-hover:bg-primary-700 -bottom-11 right-0"></div>
                  <div class="relative z-10">
                    <span class="font-fredoka-one block">Spara 149 kr</span>
                    <span class="block">Köp 3 rör och få plastflaskan på köpet.</span>
                  </div>
                </a>
              </div>
            </div>
          </li>

          <li class="md:px-2">  
            <a href="#" class="inline-flex items-center px-6 py-4 md:py-3 md:pl-4 md:pr-2 leading-none md:rounded text-slate-500 w-full justify-between hover:bg-slate-100 focus:ring-4 focus:ring-inset focus:outline-none focus:ring-primary-300" aria-haspopup="true">
              Community
              <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 96 960 960" width="20" fill="currentColor" class="ml-1 text-slate-400 transform -rotate-90"><path d="M480 694q-8 0-15.5-3T450 681L269 500q-12-12-11-30t12-29q13-13 30-12.5t29 12.5l151 152 152-152q12-12 28.5-12t29.5 13q12 12 12 29.5T690 501L510 681q-7 7-14.5 10t-15.5 3Z"/></svg>
            </a>
          </li>


          
          {% comment %}
          {% for link in linklists.main-menu.links -%}
            <li class="text-base">
              <a href="{{ link.url }}" class="meny_link block py-2 px-4 text-slate-500 hover:text-primary-400">{{ link.title }}</a>
            </li>
          {%- endfor %}
          {% endcomment %}
          
          <li class="md:ml-auto inline-block">
            <a href="https://www.facebook.com/mandyenergy/" class="flex md:inline-block align-middle w-full md:w-9 md:h-9 justify-between items-center px-6 py-4 md:p-2 text-slate-500 focus:ring-4 focus:outline-none focus:ring-inset focus:ring-primary-300 md:rounded hover:bg-slate-100" target="_blank">
              <span class="md:sr-only">Spana in oss på facebook</span>
              <svg aria-hidden="true" focusable="false" role="presentation" class="w-5 h-5" viewBox="0 0 18 18">
                <path fill="currentColor" d="M16.42.61c.27 0 .5.1.69.28.19.2.28.42.28.7v15.44c0 .27-.1.5-.28.69a.94.94 0 01-.7.28h-4.39v-6.7h2.25l.31-2.65h-2.56v-1.7c0-.4.1-.72.28-.93.18-.2.5-.32 1-.32h1.37V3.35c-.6-.06-1.27-.1-2.01-.1-1.01 0-1.83.3-2.45.9-.62.6-.93 1.44-.93 2.53v1.97H7.04v2.65h2.24V18H.98c-.28 0-.5-.1-.7-.28a.94.94 0 01-.28-.7V1.59c0-.27.1-.5.28-.69a.94.94 0 01.7-.28h15.44z">
              </svg>              
            </a>
          </li> 
          <li class="md:ml-4 inline-block">
            <a href="https://www.instagram.com/mandyenergy/" class="flex md:inline-block align-middle w-full md:w-9 md:h-9 justify-between items-center px-6 py-4 md:p-2 text-slate-500 focus:ring-4 focus:outline-none focus:ring-inset focus:ring-primary-300 md:rounded hover:bg-slate-100" target="_blank">
              <span class="md:sr-only">Följ oss på Instagram</span>
              <svg aria-hidden="true" focusable="false" role="presentation" class="w-5 h-5" viewBox="0 0 18 18">
                <path fill="currentColor" d="M8.77 1.58c2.34 0 2.62.01 3.54.05.86.04 1.32.18 1.63.3.41.17.7.35 1.01.66.3.3.5.6.65 1 .12.32.27.78.3 1.64.05.92.06 1.2.06 3.54s-.01 2.62-.05 3.54a4.79 4.79 0 01-.3 1.63c-.17.41-.35.7-.66 1.01-.3.3-.6.5-1.01.66-.31.12-.77.26-1.63.3-.92.04-1.2.05-3.54.05s-2.62 0-3.55-.05a4.79 4.79 0 01-1.62-.3c-.42-.16-.7-.35-1.01-.66-.31-.3-.5-.6-.66-1a4.87 4.87 0 01-.3-1.64c-.04-.92-.05-1.2-.05-3.54s0-2.62.05-3.54c.04-.86.18-1.32.3-1.63.16-.41.35-.7.66-1.01.3-.3.6-.5 1-.65.32-.12.78-.27 1.63-.3.93-.05 1.2-.06 3.55-.06zm0-1.58C6.39 0 6.09.01 5.15.05c-.93.04-1.57.2-2.13.4-.57.23-1.06.54-1.55 1.02C1 1.96.7 2.45.46 3.02c-.22.56-.37 1.2-.4 2.13C0 6.1 0 6.4 0 8.77s.01 2.68.05 3.61c.04.94.2 1.57.4 2.13.23.58.54 1.07 1.02 1.56.49.48.98.78 1.55 1.01.56.22 1.2.37 2.13.4.94.05 1.24.06 3.62.06 2.39 0 2.68-.01 3.62-.05.93-.04 1.57-.2 2.13-.41a4.27 4.27 0 001.55-1.01c.49-.49.79-.98 1.01-1.56.22-.55.37-1.19.41-2.13.04-.93.05-1.23.05-3.61 0-2.39 0-2.68-.05-3.62a6.47 6.47 0 00-.4-2.13 4.27 4.27 0 00-1.02-1.55A4.35 4.35 0 0014.52.46a6.43 6.43 0 00-2.13-.41A69 69 0 008.77 0z"/>
                <path fill="currentColor" d="M8.8 4a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm0 7.43a2.92 2.92 0 110-5.85 2.92 2.92 0 010 5.85zM13.43 5a1.05 1.05 0 100-2.1 1.05 1.05 0 000 2.1z">
              </svg>              
            </a>
          </li> 
        </ul>
      </div>
    </nav>

    <a href="{{ routes.cart_url }}" class="relative ml-auto h-12 w-12 p-2 md:h-9 md:w-9 md:ml-4 inline-flex items-center justify-center group focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset md:rounded hover:bg-slate-100" data-ajax-cart-section>
      <span class="sr-only">Till varukorgen</span>
      <svg xmlns="http://www.w3.org/2000/svg" height="22" viewBox="0 96 960 960" width="22" class="text-slate-500 group-hover:text-slate-700" fill="currentColor"><path d="M263.717 960Q234 960 213 938.85T192 888V432q0-29.7 21.15-50.85Q234.3 360 264 360h72v-16q0-59 38.5-104t97.5-48q63-3 107.5 39.5T624 336v24h72q29.7 0 50.85 21.15Q768 402.3 768 432v456q0 29.7-21.162 50.85Q725.676 960 695.96 960H263.717Zm.283-72h432V432h-72v60q0 15.3-10.289 25.65-10.29 10.35-25.5 10.35Q573 528 562.5 517.65 552 507.3 552 492v-60H408v60q0 15.3-10.289 25.65-10.29 10.35-25.5 10.35Q357 528 346.5 517.65 336 507.3 336 492v-60h-72v456Zm144-528h144v-24q0-29.7-21.212-50.85-21.213-21.15-51-21.15Q450 264 429 285.15 408 306.3 408 336v24ZM264 888V432v456Z"/></svg>
      <span class="inline-flex absolute right-2 top-2 md:right-0 md:top-0 justify-center items-center w-4 h-4 text-xs font-fredoka-one text-primary-700 bg-primary-100 group-hover:text-primary-900 group-hover:bg-primary-300 rounded-full">
        <span data-ajax-cart-bind-state="cart.item_count">
          {{ cart.item_count }}
        </span>
      </span>
    </a>

    <button id="meny-toggle" class="md:hidden ml-0 h-12 w-12 px-4 group focus:ring-4 focus:outline-none focus:ring-primary-300 focus:ring-inset hover:bg-slate-100 md:rounded" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="Meny">
      <span class="sr-only">Öppna eller stäng menyn</span>
      <span aria-hidden="true" class="block w-full">
        <span class="block h-0.5 w-1/2 bg-slate-500 group-hover:bg-primary-400 mb-1 ml-auto rounded-full"></span>
        <span class="block h-0.5 w-full bg-slate-500 group-hover:bg-primary-700 mb-1 rounded-full"></span>
        <span class="block h-0.5 w-full bg-slate-500 group-hover:bg-primary-700 rounded-full"></span>
      </span>
    </button>

  </div>
</header>

<div id="overlay" aria-hidden="true" class="bg-black/30 fixed inset-0 z-30 hidden backdrop-blur md:overflow-y-hidden md:max-h-screen"></div>

{% schema %}
{
  "name": "Header",
  "class": "header sticky top-0 left-0 right-0 z-50",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.logo.label"
    }
  ]
}
{% endschema %}